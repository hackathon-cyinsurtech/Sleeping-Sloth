<!--
  Generated template for the CarPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title style="text-align:right;">insure my awesome car</ion-title>
  </ion-navbar>

</ion-header>


<ion-content >
  <div [hidden]="detailsSaved">
  <div class="title" style="margin: 26px 0px 26px 0px;">Proposer Details</div>


  <form [formGroup]="userInfo" (ngSubmit)="logForm()">

    <ng-container *ngFor="let q of questions" >
      <div *ngIf="q.type == 'FREETEXT' ">
      <ion-item class="inputText">
        <ion-label color="primary" floating>{{q.question}}</ion-label>
        <ion-input  type="text" formControlName="{{q.id}}"></ion-input>



      </ion-item>
      </div>

      <div *ngIf="q.type != 'FREETEXT' ">
        <ion-item class="inputText">
          <ion-label color="primary">{{q.question}}</ion-label>
            <ion-select formControlName="{{q.id}}" interface="action-sheet">
               <ng-container *ngFor= "let choice of choices">
                      <ng-container *ngIf="q.id == choice.questionId ">
                        <ion-option value="{{choice.choice}}">{{choice.choice}}</ion-option>
                      </ng-container>
               </ng-container>
               </ion-select>

        </ion-item>
      </div>

   </ng-container>


<div class="title" style="margin: 26px 0px 26px 0px;" [hidden]="isLoggedIn">Personal Information</div>
     <ion-item class="inputText"  [hidden]="isLoggedIn">
       <ion-label color="primary" floating>Email</ion-label>
       <ion-input type="email" formControlName="email" value="test@test.com"></ion-input>
     </ion-item>
     <ng-container *ngFor="let validation of validation_messages.email" >
       <div class="error-message" *ngIf=" userInfo.get('email').hasError(validation.type) && (userInfo.get('email').dirty || userInfo.get('email').touched)">
  			{{validation.message}}
  		</div>
    </ng-container>

     <ion-item class="inputText"  [hidden]="isLoggedIn">
       <ion-label color="primary" floating>Password</ion-label>
       <ion-input type="password" formControlName="password" value="Sloth1"></ion-input>
     </ion-item>
     <ng-container *ngFor="let validation of validation_messages.password">
       <div class="error-message" *ngIf=" userInfo.get('password').hasError(validation.type) && (userInfo.get('password').dirty || userInfo.get('password').touched)">
       {{validation.message}}
     </div>
    </ng-container>

     <ion-item class="inputText"  [hidden]="isLoggedIn">
       <ion-label color="primary" floating>Name</ion-label>
       <ion-input type="text" formControlName="name" value="Sleeping"></ion-input>
     </ion-item>
     <ng-container *ngFor="let validation of validation_messages.name">
       <div class="error-message" *ngIf=" userInfo.get('name').hasError(validation.type) && (userInfo.get('name').dirty || userInfo.get('name').touched)">
       {{validation.message}}
     </div>
    </ng-container>


     <ion-item class="inputText" [hidden]="isLoggedIn">
       <ion-label color="primary" floating>Surname</ion-label>
       <ion-input type="text" formControlName="surname" value="Sloth"></ion-input>
     </ion-item>
     <ng-container *ngFor="let validation of validation_messages.surname">
       <div class="error-message" *ngIf=" userInfo.get('surname').hasError(validation.type) && (userInfo.get('surname').dirty || userInfo.get('surname').touched)">
       {{validation.message}}
     </div>
    </ng-container>


     <ion-item class="inputText"  [hidden]="isLoggedIn">
       <ion-label color="primary" floating>Address</ion-label>
       <ion-input type="text" formControlName="address" value="7 Tree Rd"></ion-input>
     </ion-item>
     <ng-container *ngFor="let validation of validation_messages.address">
       <div class="error-message" *ngIf=" userInfo.get('address').hasError(validation.type) && (userInfo.get('address').dirty || userInfo.get('address').touched)">
       {{validation.message}}
     </div>
    </ng-container>
    <div class="inputText" style="padding-bottom:54px; background: #FFF;"  [hidden]="isLoggedIn"></div>

     <div class="inputText" style="margin: 16px auto 16px auto; width:100%;">
       <button ion-button full type="submit" style="max-width:300px;">Submit</button>
     </div>
   </form>
</div>

  <div [hidden]="!detailsSaved">
     <div class="title" style="margin: 16px auto 16px auto;">To get a quote, upload your car's photos:</div>
     <button ion-button full style="max-width:300px; height:200px; margin: 16px auto 16px auto;" (click)="startPhotoProcess()">
        <ion-icon name="camera" style="padding-right:16px;"></ion-icon> Start Photo Processes
     </button>
     <button ion-button color="secondary" full style="max-width:300px; height:50px; margin: 16px auto 16px auto;" (click)="finishedPhotoProcess()" [hidden]="!onePhotoSaved">
       Finish and ask for quotes
     </button>
</div>




</ion-content>
